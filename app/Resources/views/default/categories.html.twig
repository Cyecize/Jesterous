{% extends 'base.html.twig' %}

{% block body %}
    <div class="home">
        <div class="home_background parallax-window" data-parallax="scroll" data-image-src="/images/category.jpg" data-speed="0.8"></div>
    </div>

<!-- Page Content -->

<div class="page_content">
    <div class="container">
        <div class="row row-lg-eq-height">

            <!-- Main Content -->

            <div class="col-lg-9">
                <div class="main_content">

                    <!-- Category -->

                    <div class="category">
                        <div class="section_panel d-flex flex-row align-items-center justify-content-start">
                            <div class="section_title">{{ localLang.blogPosts }}</div>
                            <div class="section_tags ml-auto">
                                <ul>
                                    {% for category in viewModel.categories %}
                                        <li class=""><a href="{{ path('category_details', {'catName':category.categoryName}) }}">{{ category.categoryName }}</a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                            <div class="section_panel_more d-none d-sm-block d-md-none">
                                <ul>
                                    <li>{{ localLang.more }}
                                        <ul>
                                            {% for category in viewModel.categories %}
                                                <li class=""><a href="{{ path('category_details', {'catName':category.categoryName}) }}">{{ category.categoryName }}</a></li>
                                            {% endfor %}
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="section_content">
                            <h3 class="font-kirang-hearang text-info">{{ viewModel.selectedCategory.categoryName }} <small>({{ viewModel.articles|length }})</small></h3>
                            <div class="grid clearfix">
                                {% for article in viewModel.articles %}
                                    {% set rand = random(3) %}

                                    {% if rand == 0 %}
                                        {% embed 'partials/articles/small-card-with-background.html.twig' with {'article': article} %} {% endembed %}
                                    {% endif %}
                                    {% if rand == 1 %}
                                        {% embed 'partials/articles/small-card-with-image.html.twig' with {'article': article} %} {% endembed %}
                                    {% endif %}

                                    {% if rand == 2 %}
                                        {% embed 'partials/articles/small-card-without-image.html.twig' with {'article': article} %} {% endembed %}
                                    {% endif %}

                                    {% if rand == 3 %}
                                        {% embed 'partials/articles/default-card-with-background.html.twig' with {'article': article} %} {% endembed %}
                                    {% endif %}

                                {% endfor %}
                            </div>
                        </div>
                    </div>

                </div>
                <div class="load_more">
                    <div id="load_more" class="load_more_button text-center trans_200">Load More</div>
                </div>
                {% embed 'partials/quotes/main-content-quote.html.twig' %} {% endembed %}
            </div>

            <!-- Sidebar -->

           {% embed 'partials/sidebar/sidebar.html.twig' %}
                {% block sections %}
                    {% embed 'partials/sidebar/top-stories-section.html.twig' %} {% endembed %}
                {% endblock %}
           {% endembed %}
        </div>

    </div>


<!-- Footer -->

{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('styles/styles/category.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ asset('styles/styles/category_responsive.css') }}">
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('styles/js/category.js') }}"></script>
{% endblock %}